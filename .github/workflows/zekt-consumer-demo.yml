name: Zekt Workflow Consumer

on:
  repository_dispatch:
    types: [zekt-workflow-completed]

jobs:
  handle-zekt-event:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Display event information
        shell: pwsh
        run: |
          $event = '${{ toJson(github.event) }}' | ConvertFrom-Json
          Write-Host "Full Event Object:" -ForegroundColor Cyan
          Write-Host ($event | ConvertTo-Json -Depth 10)

      - name: Process Zekt workflow completion
        shell: pwsh
        run: |
          Write-Host "Processing zekt-workflow-completed event..." -ForegroundColor Green
          # Add your custom processing logic here
          Write-Host "Workflow completed successfully!" -ForegroundColor Green
